<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글로벌 게임 시장 채용 데이터 대시보드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://unpkg.com/topojson-client@3/dist/topojson-client.min.js"></script>
    <script src="https://unpkg.com/chartjs-chart-geo@4.3.0/build/index.umd.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* 기본 폰트 및 배경색 설정 */
        body { font-family: 'Pretendard', sans-serif; background-color: #f8f9fa; }
        /* 탭 버튼 스타일 및 전환 효과 */
        .tab-button { transition: all 0.3s ease; }
        .tab-button.active { color: #2563eb; border-bottom-color: #2563eb; font-weight: 600; }
        /* KPI 카드 호버 효과 */
        .kpi-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .kpi-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        /* 차트 컨테이너 기본 스타일 */
        .chart-container { position: relative; width: 100%; max-width: 900px; margin-left: auto; margin-right: auto; height: 40vh; max-height: 450px; }
        .map-container { position: relative; width: 100%; height: 45vh; max-height: 500px; }
        /* 경쟁사 선택 체크박스 스타일 */
        .competitor-checkbox:checked + label { border-color: #2563eb; background-color: #eff6ff; }
        /* 모바일 반응형 스타일 */
        @media (max-width: 768px) {
            .chart-container, .map-container { height: 45vh; }
            .tab-button span { display: none; }
            @media (min-width: 480px) { .tab-button span { display: inline; } }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <div class="container mx-auto p-4 md:p-8">
        <header class="mb-8">
            <div class="flex items-center space-x-3 mb-2">
                <i data-lucide="bar-chart-3" class="w-8 h-8 text-blue-600"></i>
                <h1 class="text-3xl font-bold text-gray-900">글로벌 게임 시장 채용 데이터 대시보드</h1>
            </div>
            <p class="text-gray-500">채용 데이터를 통해 게임 산업의 미래 전략과 인재 동향을 분석합니다.</p>
        </header>
        <div id="kpi-section" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"></div>
        <div class="bg-white rounded-xl shadow-md">
            <div class="border-b border-gray-200">
                <nav class="flex flex-wrap space-x-1 sm:space-x-2 p-2" id="tabs">
                    <button data-tab="global-pulse" class="tab-button active flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="activity"></i><span>글로벌 동향</span></button>
                    <button data-tab="talent-profile" class="tab-button flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="users"></i><span>인재 현황 분석</span></button>
                    <button data-tab="skills-explorer" class="tab-button flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="lightbulb"></i><span>핵심 기술/직군</span></button>
                    <button data-tab="geo-view" class="tab-button flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="map"></i><span>지역별 분석</span></button>
                    <button data-tab="genre-trends" class="tab-button flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="gamepad-2"></i><span>인기 채용 장르</span></button>
                    <button data-tab="competitor-analysis" class="tab-button flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="swords"></i><span>경쟁사 분석</span></button>
                    <button data-tab="new-projects" class="tab-button flex items-center space-x-2 text-sm sm:text-base py-3 px-2 sm:px-4 border-b-2 border-transparent text-gray-600 hover:text-blue-600"><i data-lucide="rocket"></i><span>신규 프로젝트</span></button>
                </nav>
            </div>
            <main id="tab-content" class="p-4 md:p-6">
                <section id="global-pulse" class="tab-pane active">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">글로벌 펄스: 게임 개발 채용의 거시적 동향</h2>
                        <p class="text-gray-600">월별 신규 채용 공고 수의 변화를 통해 업계의 전반적인 인력 수요 변동과 성장 모멘텀을 파악합니다. 여러 지역을 선택하여 동향을 비교 분석하거나, 지도를 통해 글로벌 채용 분포를 직관적으로 확인할 수 있습니다.</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">지역별 채용 활기도 비교 (지난 24개월)</h3>
                            <div id="region-filter-container" class="flex flex-wrap gap-2 justify-center mb-4"></div>
                            <div class="chart-container"><canvas id="hiringTrendChart"></canvas></div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">글로벌 채용 공고 분포도</h3>
                            <div class="map-container"><canvas id="globalHiringMap"></canvas></div>
                        </div>
                    </div>
                </section>
                <section id="talent-profile" class="tab-pane hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">시장이 원하는 인재: 지원 자격 심층 분석</h2>
                        <p class="text-gray-600">채용 공고의 지원 자격 요건을 분석하여 현재 게임 시장에서 요구하는 인재의 프로필을 구체적으로 파악합니다. 학력, 경력, 핵심 역량 분포를 통해 인재 채용 및 육성 전략을 수립할 수 있습니다.</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="grid grid-rows-4 gap-8">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-2 text-center">요구 학력 분포</h3>
                                <div class="chart-container !h-[25vh] !max-h-[220px]"><canvas id="educationChart"></canvas></div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-2 text-center">요구 경력 분포 (신입 vs 경력)</h3>
                                <div class="chart-container !h-[25vh] !max-h-[220px]"><canvas id="experienceChart"></canvas></div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-2 text-center">지역별 직군 분포</h3>
                                <div class="chart-container !h-[25vh] !max-h-[220px]"><canvas id="roleByRegionChart"></canvas></div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h3 class="text-lg font-semibold mb-2 text-center">직군·지역 평균 연봉</h3>
                                <div class="chart-container !h-[25vh] !max-h-[220px]"><canvas id="salaryChart"></canvas></div>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 text-center">Top 10 요구 기술 스택 (전체 직군)</h3>
                            <div class="chart-container !h-[50vh] !max-h-[500px]"><canvas id="requiredSkillsChart"></canvas></div>
                        </div>
                    </div>
                </section>
                <section id="skills-explorer" class="tab-pane hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">현대 게임 스튜디오의 해부: 수요가 높은 역할과 기술</h2>
                        <p class="text-gray-600">채용 공고 데이터를 분석하여 시장에서 가장 수요가 높은 기술 스택과 직무 역량을 식별합니다. 특히 AI와 같은 신기술이 인재 시장에 미치는 영향을 정량적으로 평가하여 미래 기술 투자 방향을 제시합니다.</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 text-center">기술 카테고리별 채용 분포</h3>
                            <div class="chart-container !h-[50vh] !max-h-[500px]"><canvas id="techCategoryChart"></canvas></div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">직군 지형 변화 (최근 12개월)</h3>
                            <div class="chart-container !h-[50vh] !max-h-[500px]"><canvas id="roleDistributionChart"></canvas></div>
                        </div>
                    </div>
                </section>
                <section id="geo-view" class="tab-pane hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">글로벌 개발 지형 매핑</h2>
                        <p class="text-gray-600">전 세계 채용 공고의 지리적 분포를 분석하여 인재가 집중된 '탤런트 핫스팟'을 식별합니다. 또한 각 지역이 어떤 직군과 장르에 특화되어 있는지 파악하여 글로벌 스튜디오 확장 및 아웃소싱 전략 수립의 근거를 제시합니다.</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">Top 10 글로벌 탤런트 핫스팟 (도시)</h3>
                            <div class="chart-container"><canvas id="talentHotspotChart"></canvas></div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">주요 지역별 직군 전문화</h3>
                            <div class="chart-container"><canvas id="regionalSpecializationChart"></canvas></div>
                        </div>
                    </div>
                </section>
                <section id="genre-trends" class="tab-pane hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">채용 장르 인사이트: 수요를 주도하는 장르 읽기</h2>
                        <p class="text-gray-600">글로벌 채용 공고에 나타난 게임 장르 분포를 분석하여 현재 채용 시장에서 가장 인기 있는 장르와 새롭게 부상하는 틈새 장르를 파악합니다. 이를 통해 스튜디오의 채용 전략과 장르 포트폴리오를 최적화할 수 있는 데이터를 제공합니다.</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">채용 장르별 시장 점유율</h3>
                            <div class="chart-container"><canvas id="genreShareChart"></canvas></div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2 text-center">주목할 만한 성장 채용 장르 (전년 대비)</h3>
                            <div class="chart-container"><canvas id="genreGrowthChart"></canvas></div>
                        </div>
                    </div>
                </section>
                <section id="competitor-analysis" class="tab-pane hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">경쟁 정보: 경쟁사 전략 비교 분석</h2>
                        <p class="text-gray-600">주요 경쟁사들을 선택하여 인력 구성, 전략적 초점 등 핵심 지표를 직접 비교 분석합니다. 최대 5개 기업까지 선택하여 경쟁 환경을 다각적으로 파악하고 우리의 포지셔닝을 점검할 수 있습니다.</p>
                    </div>
                    <div class="mb-6 bg-gray-50 p-4 rounded-lg">
                        <label class="block text-lg font-medium text-gray-800 mb-3">비교할 경쟁사를 선택하세요 (최대 5개)</label>
                        <div id="competitor-select-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3">
                        </div>
                    </div>
                    <div id="competitor-comparison-container" class="mt-8"></div>
                </section>

                <section id="new-projects" class="tab-pane hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold mb-2">신규 프로젝트 동향 및 개발 단계 분석</h2>
                        <p class="text-gray-600">
                            게임 업계의 주요 신규 프로젝트를 추적하고, 채용 직급 데이터를 기반으로 '프로젝트 개발 단계 추정 지수'를 분석합니다.<br>
                            <span class="text-xs text-gray-500 mt-1 block">
                                ※ 계산법: ∑(직급 가중치 × 모집 인원) / 총 모집 인원 (가중치: Lead/Director=5, Senior=3, Junior=1)<br>
                                ※ <strong>4.0 이상</strong> - 런칭 준비 단계, <strong>2.0 이하</strong> - 초기 단계, <strong>2.1 ~ 3.9</strong> - 중간 단계
                            </span>
                        </p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg">
                        <div>
                            <label for="project-developer-filter" class="block mb-1 text-sm font-medium text-gray-700">개발사</label>
                            <select id="project-developer-filter" class="w-full border-gray-300 rounded-md p-2 text-sm"></select>
                        </div>
                        <div>
                            <label for="project-genre-filter" class="block mb-1 text-sm font-medium text-gray-700">장르</label>
                            <select id="project-genre-filter" class="w-full border-gray-300 rounded-md p-2 text-sm"></select>
                        </div>
                        <div>
                            <label for="project-status-filter" class="block mb-1 text-sm font-medium text-gray-700">개발 단계</label>
                            <select id="project-status-filter" class="w-full border-gray-300 rounded-md p-2 text-sm"></select>
                        </div>
                        <div>
                             <label for="company-search-filter" class="block mb-1 text-sm font-medium text-gray-700">회사 검색</label>
                             <input type="text" id="company-search-filter" placeholder="회사명 검색..." class="w-full border-gray-300 rounded-md p-2 text-sm">
                        </div>
                    </div>
                    <div id="new-projects-list" class="space-y-4"></div>
                </section>
            </main>
        </div>
        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>&copy; Partnership Business Div. All rights reserved.</p>
        </footer>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        lucide.createIcons();
        // --- 데이터 섹션 ---
        const dashboardData = {
            kpi: { totalJobs: 21500, change: -12.5, absoluteChange: -3071 },
            topCompanies: [
                { name: 'Tencent', jobs: 1250 },
                { name: 'Electronic Arts', jobs: 980 },
                { name: 'Ubisoft', jobs: 850 },
                { name: 'NetEase', jobs: 760 },
                { name: 'Nexon', jobs: 710 },
            ],
            risingSkills: [
                { name: 'Generative AI', growth: 510.2 },
                { name: 'Unreal Engine 5', growth: 320.0 },
                { name: 'Python (AI/ML)', growth: 180.5 },
                { name: 'PCG', growth: 155.0 },
                { name: 'BI Tools', growth: 130.1 },
            ],
            hiringTrend: {
                labels: Array.from({ length: 24 }, (_, i) => { const d = new Date(); d.setMonth(d.getMonth() - (23 - i)); return d.toISOString().split('T')[0]; }),
                regions: {
                    '글로벌': [320, 310, 330, 325, 340, 350, 360, 355, 345, 330, 310, 290, 300, 315, 325, 335, 345, 350, 340, 325, 310, 295, 280, 270],
                    '미국':   [90, 85, 95, 92, 100, 105, 110, 108, 102, 95, 88, 80, 85, 90, 98, 102, 108, 112, 105, 98, 90, 85, 80, 75],
                    '캐나다': [45, 42, 48, 46, 50, 52, 55, 53, 50, 47, 43, 40, 42, 45, 49, 51, 54, 56, 52, 48, 45, 42, 40, 38],
                    '중국':   [80, 78, 85, 82, 90, 95, 98, 96, 92, 88, 82, 75, 78, 83, 88, 92, 96, 100, 94, 89, 83, 78, 73, 70],
                    '한국': [40, 38, 42, 41, 45, 48, 50, 49, 46, 43, 40, 35, 38, 41, 44, 47, 50, 52, 48, 44, 41, 38, 36, 34],
                }
            },
            mapData: {
                USA: { total: 5200, topCities: { 'Los Angeles': 900, 'Austin': 600 }, topRoles: { '프로그래머': 1500, '아티스트': 1100 } },
                CAN: { total: 2100, topCities: { 'Montreal': 700, 'Vancouver': 500 }, topRoles: { '아티스트': 600, '프로그래머': 550 } },
                CHN: { total: 3800, topCities: { 'Shanghai': 1300, 'Shenzhen': 800 }, topRoles: { '모바일 프로그래머': 1000, '기획': 800 } },
                KOR: { total: 1800, topCities: { 'Seoul': 1500 }, topRoles: { '라이브 서비스': 500, '아티스트': 450 } },
                GBR: { total: 1950, topCities: { 'London': 1000 }, topRoles: { '프로그래머': 600, 'QA': 400 } },
                JPN: { total: 1850, topCities: { 'Tokyo': 1300 }, topRoles: { '콘솔 프로그래머': 550, '기획': 500 } },
                DEU: { total: 1400, topCities: { 'Berlin': 600 }, topRoles: { '프로그래머': 400, 'QA': 250 } },
                FRA: { total: 1300, topCities: { 'Paris': 550 }, topRoles: { '아티스트': 350, '프로그래머': 300 } },
                AUS: { total: 800,  topCities: { 'Melbourne': 350 }, topRoles: { '프로그래머': 200, '아티스트': 150 } },
                BRA: { total: 700,  topCities: { 'São Paulo': 300 }, topRoles: { '모바일 프로그래머': 150, '아티스트': 100 } },
            },
            talentProfile: {
                education: { labels: ['학사', '석사 이상', '학력 무관', '전문학사'], data: [65, 15, 15, 5] },
                experience: { labels: ['경력 (3년 이상)', '신입/주니어 (3년 미만)'], data: [78, 22] },
                requiredSkills: { labels: ['C++', 'Unreal Engine', 'Unity', 'Python', '3D Modeling', 'Live Service', 'AWS/Azure', 'SQL', 'Agile/Scrum', 'JIRA'], data: [88, 85, 82, 65, 60, 55, 50, 48, 45, 42] }
            },
            techCategory: { labels: ['프로그래밍', '아트', '디자인/기획', '데이터/분석', '라이브 서비스', '기타'], data: [42, 28, 14, 8, 6, 2] },
            roleDistribution: {
                labels: ['3년 전', '2년 전', '1년 전'],
                datasets: [
                    { label: '프로그래밍', data: [35, 36, 38], backgroundColor: '#3b82f6' },
                    { label: '아트',      data: [30, 28, 26], backgroundColor: '#10b981' },
                    { label: '디자인',      data: [15, 15, 14], backgroundColor: '#f97316' },
                    { label: '데이터/분석', data: [5, 7, 9], backgroundColor: '#ef4444' },
                    { label: '라이브 서비스', data: [5, 6, 7], backgroundColor: '#8b5cf6' },
                    { label: '기타',        data: [10, 8, 6], backgroundColor: '#64748b' }
                ]
            },
            talentHotspots: { labels: ['로스앤젤레스', '몬트리올', '런던', '상하이', '도쿄', '서울', '바르샤바', '오스틴', '싱가포르', '헬싱키'], data: [1250, 980, 850, 760, 710, 650, 580, 520, 480, 410] },
            regionalSpecialization: {
                labels: ['북미', '유럽', '중국', '한국', '일본'],
                datasets: [
                    { label: '프로그래밍', data: [40, 35, 30, 20, 25], backgroundColor: '#3b82f6' },
                    { label: '아트', data: [25, 30, 40, 50, 45], backgroundColor: '#10b981' },
                    { label: '기획/디자인', data: [35, 35, 30, 30, 30], backgroundColor: '#f97316' }
                ]
            },
            genreTrends: { share: { labels: ['RPG', 'Action', 'Strategy', 'Shooter', 'Casual', 'Other'], data: [35, 25, 15, 10, 10, 5] }, growth: { labels: ['Extraction Shooter', 'Co-op Roguelike', 'Souls-like', 'Open-world Survival', 'Gacha RPG'], data: [85.2, 76.5, 65.1, 58.9, 45.3] } },
            salaryByRegion: {
                labels: ['북미', '유럽', '중국', '한국', '일본'],
                datasets: [
                    { label: '프로그래밍', data: [90000, 80000, 75000, 70000, 68000], backgroundColor: '#3b82f6' },
                    { label: '아트',       data: [75000, 65000, 60000, 55000, 58000], backgroundColor: '#10b981' },
                    { label: '디자인/기획', data: [72000, 62000, 58000, 52000, 55000], backgroundColor: '#f97316' },
                    { label: '데이터/분석', data: [85000, 78000, 72000, 68000, 65000], backgroundColor: '#ef4444' },
                    { label: '라이브 서비스', data: [70000, 60000, 55000, 50000, 48000], backgroundColor: '#8b5cf6' },
                ]
            },
            competitors: {
                'EA': { composition: [38, 22, 15, 18, 7], focus: { existing: 850, new: 210 }, newGames: [ { title: 'Dragon Age: Dreadwolf', genre: 'RPG', status: 'Announced' }, { title: 'Skate.', genre: 'Sports', status: 'In Development' } ] },
                'Ubisoft': { composition: [35, 28, 18, 15, 4], focus: { existing: 920, new: 150 }, newGames: [ { title: "Assassin's Creed Codename Red", genre: 'Action RPG', status: 'Announced' } ] },
                'Tencent': { composition: [30, 25, 15, 20, 10], focus: { existing: 650, new: 430 }, newGames: [ { title: 'Honor of Kings: World', genre: 'Open-world RPG', status: 'Announced' } ] },
                'Take-Two': { composition: [45, 30, 15, 5, 5], focus: { existing: 780, new: 260 }, newGames: [ { title: 'Grand Theft Auto VI', genre: 'Open-world Action', status: 'Announced' } ] },
                'Nexon': { composition: [32, 25, 13, 25, 5], focus: { existing: 950, new: 110 }, newGames: [ { title: 'The First Descendant', genre: 'Looter Shooter', status: 'In Development' } ] }
            },
            newProjectDetails: {
                'Dragon Age: Dreadwolf':      [ { level: 'Lead', hires: 2 }, { level: 'Senior', hires: 8 }, { level: 'Junior', hires: 5 } ],
                'Skate.':                     [ { level: 'Lead', hires: 3 }, { level: 'Senior', hires: 5 }, { level: 'Junior', hires: 15 } ],
                "Assassin's Creed Codename Red": [ { level: 'Lead', hires: 4 }, { level: 'Senior', hires: 12 }, { level: 'Junior', hires: 25 } ],
                'Honor of Kings: World':      [ { level: 'Lead', hires: 5 }, { level: 'Senior', hires: 10 }, { level: 'Junior', hires: 10 } ],
                'Grand Theft Auto VI':        [ { level: 'Lead', hires: 1 }, { level: 'Senior', hires: 15 }, { level: 'Junior', hires: 40 } ],
                'The First Descendant':       [ { level: 'Lead', hires: 2 }, { level: 'Senior', hires: 8 }, { level: 'Junior', hires: 20 } ]
            },
            competitorMeta: { composition: { labels: ['프로그래밍', '아트', '디자인', '라이브 서비스', '기타'] }, focus: { labels: ['기존 IP', '신규 IP'] } }
        };
        // --- 차트 레퍼런스 저장소 ---
        const charts = {};
        // --- 바형 / 파이형 애니메이션 설정 함수 ---
        const getAnimationConfig = (chartType, indexAxis = 'x') => {
            const isHorizontal = indexAxis === 'y';
            switch (chartType) {
                case 'bar': {
                    const axis = isHorizontal ? 'x' : 'y';
                    const basePixel = (ctx) => ctx.chart.scales[axis].getBasePixel();
                    return {
                        animations: {
                            [axis]: { from: basePixel },
                        },
                        animation: {
                            delay: (ctx) => ctx.dataIndex * 60 + ctx.datasetIndex * 200,
                            duration: 800,
                            easing: 'easeOutQuad'
                        }
                    };
                }
                case 'doughnut':
                case 'pie':
                    return {
                        animation: { animateRotate: true, animateScale: true, duration: 1200 }
                    };
                case 'line':
                    return {
                        animations: {
                            tension: { duration: 1000, easing: 'easeInOutQuad', from: 0.5, to: 0.1 }
                        },
                        animation: {
                            delay: (ctx) => ctx.dataIndex * 25
                        }
                    };
                default:
                    return {};
            }
        };
        // --- KPI 카드 생성 ---
        const createKpiCards = () => {
            const kpiSection = document.getElementById('kpi-section');
            kpiSection.innerHTML = '';
            
            const lastMonth = new Date();
            lastMonth.setMonth(lastMonth.getMonth() - 1);
            const monthName = lastMonth.toLocaleString('ko-KR', { month: 'long' });

            // 총 채용 공고 수
            kpiSection.innerHTML += `
                <div class="kpi-card bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center space-x-4">
                    <div class="p-3 rounded-full bg-blue-100 text-blue-600"><i data-lucide="briefcase"></i></div>
                    <div>
                        <p class="text-sm text-gray-500">총 채용 공고 수 (${monthName})</p>
                        <p class="text-2xl font-bold text-gray-900">${dashboardData.kpi.totalJobs.toLocaleString()}</p>
                    </div>
                </div>`;
            // 전월 대비 변동
            const isNegative = dashboardData.kpi.change < 0;
            kpiSection.innerHTML += `
                <div class="kpi-card bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center space-x-4">
                    <div class="p-3 rounded-full ${isNegative ? 'bg-red-100 text-red-600' : 'bg-green-100 text-green-600'}"><i data-lucide="${isNegative ? 'trending-down' : 'trending-up'}"></i></div>
                    <div>
                        <p class="text-sm text-gray-500">전월 대비 변동</p>
                        <div class="flex items-baseline space-x-2">
                            <p class="text-2xl font-bold text-gray-900">${dashboardData.kpi.absoluteChange.toLocaleString()}명</p>
                            <p class="text-sm font-semibold ${isNegative ? 'text-red-500' : 'text-green-500'}">${isNegative ? '▼' : '▲'} ${Math.abs(dashboardData.kpi.change)}%</p>
                        </div>
                    </div>
                </div>`;
            // Top 5 채용 기업
            const companyList = dashboardData.topCompanies.map((c, i) => `<li class="flex justify-between items-center text-sm py-1"><span class="text-gray-600 truncate pr-2"><span class="font-semibold text-gray-800 w-6 inline-block">${i + 1}.</span> ${c.name}</span> <span class="font-bold text-blue-600 flex-shrink-0">${c.jobs.toLocaleString()}</span></li>`).join('');
            kpiSection.innerHTML += `
                <div class="kpi-card bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex items-center space-x-2 mb-2">
                        <i data-lucide="building-2" class="w-5 h-5 text-blue-600"></i><h3 class="font-semibold text-gray-800">Top 5 채용 기업</h3>
                    </div>
                    <ol class="space-y-1">${companyList}</ol>
                </div>`;
            // Top 5 급상승 기술
            const skillList = dashboardData.risingSkills.map((s, i) => `<li class="flex justify-between items-center text-sm py-1"><span class="text-gray-600 truncate pr-2"><span class="font-semibold text-gray-800 w-6 inline-block">${i + 1}.</span> ${s.name}</span> <span class="font-bold text-green-600 flex-shrink-0">+${s.growth.toFixed(1)}%</span></li>`).join('');
            kpiSection.innerHTML += `
                <div class="kpi-card bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex items-center space-x-2 mb-2">
                        <i data-lucide="sparkles" class="w-5 h-5 text-blue-600"></i><h3 class="font-semibold text-gray-800">Top 5 급상승 기술</h3>
                    </div>
                    <ol class="space-y-1">${skillList}</ol>
                </div>`;
            lucide.createIcons();
        };
        // --- 차트 기본 옵션 생성 함수 ---
        const defaultChartOptions = (additionalOptions = {}) => ({
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'bottom', labels: { font: { size: 12 } } },
                tooltip: {
                    backgroundColor: '#fff', titleColor: '#333', bodyColor: '#666', borderColor: '#ddd', borderWidth: 1, padding: 10,
                    callbacks: {
                        label: (context) => {
                            let label = context.dataset.label || context.label || '';
                            if (label) { label += ': '; }
                            let value = context.parsed.y ?? context.parsed.x ?? context.parsed;
                            if (context.chart.config.type === 'pie' || context.chart.config.type === 'doughnut') {
                                const total = context.chart.getData().datasets[0].data.reduce((a, b) => a + b, 0);
                                const percentage = (value / total * 100).toFixed(1) + '%';
                                label += `${value.toLocaleString()} (${percentage})`;
                            } else {
                                label += value.toLocaleString();
                                if(context.dataset.tooltipSuffix) label += context.dataset.tooltipSuffix;
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                x: { grid: { display: false }, ticks: { font: { size: 10 } } },
                y: { grid: { color: '#e5e7eb', borderDash: [2, 4] }, ticks: { font: { size: 10 } } }
            },
            ...additionalOptions
        });

        const createChart = (id, type, chartData, options) => {
            if (charts[id]) charts[id].destroy();
            const ctx = document.getElementById(id).getContext('2d');
            charts[id] = new Chart(ctx, { type, data: chartData, options });
            const ch = charts[id];
            if (ch && typeof ch.reset === 'function') {
                ch.reset();
                ch.update({ duration: 0 });
            }
        };
        // --- 지역 필터 체크박스 생성 및 업데이트 ---
        const setupRegionFilters = () => {
            const container = document.getElementById('region-filter-container');
            container.innerHTML = '';
            Object.keys(dashboardData.hiringTrend.regions).forEach((region) => {
                container.innerHTML += `<div class="relative flex items-center"><input type="checkbox" id="region-${region}" value="${region}" class="hidden peer region-checkbox" ${region === '글로벌' ? 'checked' : ''}><label for="region-${region}" class="competitor-checkbox cursor-pointer border-2 border-gray-200 rounded-full px-3 py-1 text-sm font-medium hover:bg-gray-100">${region}</label></div>`;
            });
            container.addEventListener('change', updateHiringTrendChart);
        };
        const updateHiringTrendChart = () => {
            const selectedRegions = Array.from(document.querySelectorAll('.region-checkbox:checked')).map((el) => el.value);
            const colors = ['#3b82f6', '#10b981', '#f97316', '#ef4444', '#8b5cf6'];
            if (charts.hiringTrendChart) {
                charts.hiringTrendChart.data.datasets = selectedRegions.map((region, i) => ({
                    label: region,
                    data: dashboardData.hiringTrend.regions[region],
                    borderColor: colors[i % colors.length],
                    backgroundColor: `${colors[i % colors.length]}1a`,
                    fill: false,
                    tension: 0.4
                }));
                charts.hiringTrendChart.update();
            }
        };
        const createGlobalHiringMap = async () => {
            try {
                const world = await fetch('https://unpkg.com/world-atlas/countries-110m.json').then((r) => r.json());
                const countries = ChartGeo.topojson.feature(world, world.objects.countries).features;
                const mapValues = countries.map((d) => ({
                    feature: d,
                    value: dashboardData.mapData[d.properties.iso_a3]?.total || 0,
                    details: dashboardData.mapData[d.properties.iso_a3]
                }));
                createChart('globalHiringMap', 'choropleth', { labels: countries.map((d) => d.properties.name), datasets: [{ label: '채용 공고', data: mapValues }] }, {
                    responsive: true,
                    maintainAspectRatio: false,
                    showOutline: true,
                    showGraticule: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                title: (item) => item[0].raw.feature.properties.name,
                                label: (item) => {
                                    const details = item.raw.details;
                                    if (!details) return '데이터 없음';
                                    const cityText = Object.entries(details.topCities).map(([city, count]) => `${city}: ${count}`).join(', ');
                                    const roleText = Object.entries(details.topRoles).map(([role, count]) => `${role}: ${count}`).join(', ');
                                    return [`총 채용: ${details.total.toLocaleString()}`, `주요 도시: ${cityText}`, `인기 직군: ${roleText}`];
                                }
                            }
                        }
                    },
                    scales: {
                        xy: { projection: 'equalEarth' },
                        color: { axis: 'x', interpolate: 'Blues', quantize: 5, legend: { position: 'bottom-right', align: 'bottom' } }
                    }
                });
            } catch (error) {
                console.error('Error creating global hiring map:', error);
                document.getElementById('globalHiringMap').parentElement.innerHTML = '<p class="text-center text-red-500">지도를 불러오는 데 실패했습니다.</p>';
            }
        };
        // --- 경쟁사 선택 UI 생성 ---
        const setupCompetitorSelection = () => {
            const container = document.getElementById('competitor-select-container');
            container.innerHTML = '';
            Object.keys(dashboardData.competitors).forEach((company) => {
                container.innerHTML += `<div class="relative"><input type="checkbox" id="comp-${company}" value="${company}" class="competitor-checkbox hidden peer"><label for="comp-${company}" class="block cursor-pointer border-2 border-gray-200 rounded-lg p-3 text-center text-sm font-medium hover:bg-gray-100">${company}</label></div>`;
            });
            container.addEventListener('change', (e) => {
                const checked = container.querySelectorAll('input:checked');
                if (checked.length > 5) {
                    e.target.checked = false;
                    alert('최대 5개까지 선택할 수 있습니다.');
                    return;
                }
                renderCompetitorComparison();
            });
        };
        
        // --- 경쟁사 분석 차트 렌더링 ---
        const renderCompetitorComparison = () => {
            const comparisonContainer = document.getElementById('competitor-comparison-container');
            const selected = Array.from(document.querySelectorAll('#competitor-select-container input:checked')).map((el) => el.value);
            if (selected.length === 0) {
                comparisonContainer.innerHTML = `<div class="text-center text-gray-500 p-8"><i data-lucide="info" class="mx-auto h-12 w-12 text-gray-400"></i><p class="mt-4">비교할 경쟁사를 선택해주세요.</p></div>`;
                lucide.createIcons();
                return;
            }

            comparisonContainer.innerHTML = `
                <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold mb-2 text-center">채용 인력 구성 비교 (%)</h3>
                        <div class="chart-container"><canvas id="compCompositionChart"></canvas></div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold mb-2 text-center">신규 투자 집중도 (직군별, %)</h3>
                        <p class="text-center text-sm text-gray-500 mb-2">어떤 '직군'에 인력을 집중하는가?</p>
                        <div class="chart-container"><canvas id="investmentRoleFocusChart"></canvas></div>
                    </div>
                </div>
                 <div class="mt-8 pt-6 border-t bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-lg font-semibold mb-2 text-center">신규 투자 집중도 (프로젝트별, %)</h3>
                    <p class="text-center text-sm text-gray-500 mb-2">기존 IP 대비 신규 IP에 얼마나 투자하는가?</p>
                    <div class="chart-container"><canvas id="investmentProjectFocusChart"></canvas></div>
                </div>
                `;

            const colors = ['#3b82f6', '#10b981', '#f97316', '#ef4444', '#8b5cf6'];
            
            // Original Charts
            createChart('compCompositionChart', 'bar', {
                labels: dashboardData.competitorMeta.composition.labels,
                datasets: selected.map((company, i) => ({ label: company, data: dashboardData.competitors[company].composition, backgroundColor: colors[i % colors.length], tooltipSuffix: '%' }))
            }, defaultChartOptions({ animation: getAnimationConfig('bar'), scales: { x: { grid: { display: false } }, y: { ticks: { callback: (v) => v + '%' } } }, plugins: { legend: { position: 'bottom' } } }));
            
            // New Investment Focus Charts
            createChart('investmentRoleFocusChart', 'bar', {
                labels: selected,
                datasets: dashboardData.competitorMeta.composition.labels.map((role, i) => ({
                    label: role,
                    data: selected.map(company => dashboardData.competitors[company].composition[i]),
                    backgroundColor: colors[i % colors.length],
                    tooltipSuffix: '%'
                }))
            }, defaultChartOptions({ indexAxis: 'y', scales: { x: { stacked: true, ticks: { callback: v => v + '%' } }, y: { stacked: true, grid: { display: false } } } }));

            const projectFocusData = {
                labels: selected,
                datasets: [
                    {
                        label: '기존 IP 투자',
                        data: selected.map(c => {
                            const comp = dashboardData.competitors[c];
                            const total = comp.focus.existing + comp.focus.new;
                            return total > 0 ? (comp.focus.existing / total * 100) : 0;
                        }),
                        backgroundColor: '#64748b',
                        tooltipSuffix: '%'
                    },
                    {
                        label: '신규 IP 투자',
                        data: selected.map(c => {
                            const comp = dashboardData.competitors[c];
                            const total = comp.focus.existing + comp.focus.new;
                            return total > 0 ? (comp.focus.new / total * 100) : 0;
                        }),
                        backgroundColor: '#f59e0b',
                        tooltipSuffix: '%'
                    }
                ]
            };
            createChart('investmentProjectFocusChart', 'bar', projectFocusData, defaultChartOptions({ indexAxis: 'y', scales: { x: { stacked: true, max: 100, ticks: { callback: v => v + '%' } }, y: { stacked: true, grid: { display: false } } } }));
        };
        
        // --- 프로젝트 개발 단계 지수 계산 함수 ---
        const calculateProjectPhaseIndex = (projectTitle) => {
            const postings = dashboardData.newProjectDetails[projectTitle];
            if (!postings) return { index: 'N/A', interpretation: '데이터 없음' };

            const weights = { 'Lead': 5, 'Senior': 3, 'Junior': 1 };
            let weightedSum = 0;
            let totalHires = 0;

            postings.forEach(p => {
                const weight = weights[p.level] || 0;
                weightedSum += weight * p.hires;
                totalHires += p.hires;
            });

            if (totalHires === 0) return { index: '0.00', interpretation: '데이터 없음' };

            const index = weightedSum / totalHires;
            let interpretation = '중간 단계';
            if (index >= 4) {
                interpretation = '런칭 준비 단계';
            } else if (index <= 2) {
                interpretation = '초기 단계';
            }

            return { index: index.toFixed(2), interpretation };
        };

        // --- 신규 프로젝트 탭 설정 ---
        const setupNewProjectTab = () => {
            const devSelect = document.getElementById('project-developer-filter');
            const genreSelect = document.getElementById('project-genre-filter');
            const statusSelect = document.getElementById('project-status-filter');
            const searchInput = document.getElementById('company-search-filter');
            const listContainer = document.getElementById('new-projects-list');
            
            const projects = [];
            Object.keys(dashboardData.competitors).forEach((company) => {
                const games = dashboardData.competitors[company].newGames || [];
                games.forEach((g) => {
                    projects.push({ company, ...g });
                });
            });

            const developers = Array.from(new Set(projects.map((p) => p.company)));
            const genres = Array.from(new Set(projects.map((p) => p.genre)));
            const statuses = Array.from(new Set(projects.map((p) => p.status)));
            
            const populateSelect = (select, values) => {
                select.innerHTML = '<option value="">전체</option>' + values.map((v) => `<option value="${v}">${v}</option>`).join('');
            };
            populateSelect(devSelect, developers);
            populateSelect(genreSelect, genres);
            populateSelect(statusSelect, statuses);
            
            const renderList = () => {
                const devVal = devSelect.value;
                const genreVal = genreSelect.value;
                const statusVal = statusSelect.value;
                const searchTerm = searchInput.value.toLowerCase();
                
                const filtered = projects.filter((p) => {
                    return (!devVal || p.company === devVal) && 
                           (!genreVal || p.genre === genreVal) && 
                           (!statusVal || p.status === statusVal) &&
                           (!searchTerm || p.company.toLowerCase().includes(searchTerm));
                });
                
                if (filtered.length === 0) {
                    listContainer.innerHTML = '<p class="text-center text-gray-500">조건에 맞는 프로젝트가 없습니다.</p>';
                    return;
                }
                
                listContainer.innerHTML = filtered.map((game) => {
                    const phaseInfo = calculateProjectPhaseIndex(game.title);
                    const interpretationColor = phaseInfo.interpretation === '런칭 준비 단계' ? 'bg-purple-100 text-purple-800' :
                                                phaseInfo.interpretation === '초기 단계' ? 'bg-green-100 text-green-800' :
                                                phaseInfo.interpretation === '데이터 없음' ? 'bg-gray-200 text-gray-600' : 'bg-yellow-100 text-yellow-800';
                    return `
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
                            <div>
                                <p class="font-semibold text-gray-900 text-lg">${game.company}: ${game.title}</p>
                                <p class="text-sm text-gray-500">${game.genre}</p>
                            </div>
                            <span class="mt-2 sm:mt-0 text-xs font-medium px-2.5 py-0.5 rounded-full ${game.status === 'Announced' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}">${game.status}</span>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2">
                            <p class="text-sm font-semibold text-gray-700">개발 단계 추정 지수: <span class="text-blue-600 font-bold text-base">${phaseInfo.index}</span></p>
                            <span class="text-xs font-medium px-2.5 py-0.5 rounded-full ${interpretationColor}">${phaseInfo.interpretation}</span>
                        </div>
                    </div>`;
                }).join('');
            };
            
            devSelect.addEventListener('change', renderList);
            genreSelect.addEventListener('change', renderList);
            statusSelect.addEventListener('change', renderList);
            searchInput.addEventListener('input', renderList);
            renderList();
        };

        // --- 탭 별 차트 매핑 ---
        const tabChartMapping = {
            'global-pulse': ['hiringTrendChart', 'globalHiringMap'],
            'talent-profile': ['educationChart', 'experienceChart', 'roleByRegionChart', 'salaryChart', 'requiredSkillsChart'],
            'skills-explorer': ['techCategoryChart', 'roleDistributionChart'],
            'geo-view': ['talentHotspotChart', 'regionalSpecializationChart'],
            'genre-trends': ['genreShareChart', 'genreGrowthChart'],
            'competitor-analysis': ['compCompositionChart', 'investmentRoleFocusChart', 'investmentProjectFocusChart'],
            'new-projects': []
        };
        const playTabAnimations = (tabId) => {
            const ids = tabChartMapping[tabId] || [];
            ids.forEach((id) => {
                const chart = charts[id];
                if (chart) {
                    if (typeof chart.reset === 'function') {
                        chart.reset();
                    }
                    chart.update();
                }
            });
        };

        // --- 차트 초기화 ---
        const initializeCharts = () => {
            createChart('hiringTrendChart', 'line', { labels: dashboardData.hiringTrend.labels, datasets: [] }, defaultChartOptions({ animation: getAnimationConfig('line'), scales: { x: { type: 'time', time: { unit: 'month', displayFormats: { month: 'MMM yy' } }, grid: { display: false }, ticks: { font: { size: 10 }, autoSkip: true, maxTicksLimit: 12 } }, y: { grid: { color: '#e5e7eb', borderDash: [2, 4] }, ticks: { font: { size: 10 } } } } }));
            createGlobalHiringMap();
            createChart('educationChart', 'doughnut', { labels: dashboardData.talentProfile.education.labels, datasets: [{ data: dashboardData.talentProfile.education.data, backgroundColor: ['#3b82f6', '#10b981', '#f97316', '#ef4444'] }] }, defaultChartOptions({ ...getAnimationConfig('doughnut'), scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { position: 'bottom' } } }));
            createChart('experienceChart', 'pie', { labels: dashboardData.talentProfile.experience.labels, datasets: [{ data: dashboardData.talentProfile.experience.data, backgroundColor: ['#3b82f6', '#10b981'] }] }, defaultChartOptions({ ...getAnimationConfig('pie'), scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { position: 'bottom' } } }));
            
            // roleByRegionChart now uses the updated regionalSpecialization data
            createChart('roleByRegionChart', 'bar', dashboardData.regionalSpecialization, defaultChartOptions({ animation: getAnimationConfig('bar'), scales: { x: { grid: { display: false }, type: 'category' }, y: { ticks: { callback: (v) => v + '%' } } } }));
            
            createChart('requiredSkillsChart', 'bar', { labels: dashboardData.talentProfile.requiredSkills.labels, datasets: [{ label: '언급 빈도 (%)', data: dashboardData.talentProfile.requiredSkills.data, backgroundColor: '#2563eb', borderRadius: 4, tooltipSuffix: '%' }] }, defaultChartOptions({ animation: getAnimationConfig('bar', 'y'), indexAxis: 'y', scales: { x: { ticks: { callback: (v) => v + '%' } }, y: { grid: { display: false } } }, plugins: { legend: { display: false } } }));
            
            // salaryChart also uses updated labels
            createChart('salaryChart', 'bar', dashboardData.salaryByRegion, defaultChartOptions({ animation: getAnimationConfig('bar'), scales: { x: { grid: { display: false }, type: 'category' }, y: { ticks: { callback: (v) => '$' + (v / 1000).toFixed(0) + 'k' } } }, plugins: { legend: { position: 'bottom' } } }));
            
            createChart('techCategoryChart', 'bar', { labels: dashboardData.techCategory.labels, datasets: [{ label: '채용 분포 (%)', data: dashboardData.techCategory.data, backgroundColor: '#2563eb', borderRadius: 4, tooltipSuffix: '%' }] }, defaultChartOptions({ animation: getAnimationConfig('bar', 'y'), indexAxis: 'y', scales: { y: { grid: { display: false } } }, plugins: { legend: { display: false } } }));
            
            const generateMonthlyRoleDistribution = () => {
                const months = 12;
                const startIndex = 1; const endIndex = 2;
                const labels = Array.from({ length: months }, (_, i) => { const date = new Date(); date.setMonth(date.getMonth() - (months - 1 - i)); return date.toISOString().split('T')[0]; });
                const datasets = dashboardData.roleDistribution.datasets.map((ds) => {
                    const startVal = ds.data[startIndex];
                    const endVal = ds.data[endIndex];
                    const data = Array.from({ length: months }, (_, i) => Math.round(startVal + ((endVal - startVal) * (i + 1) / months)));
                    return { label: ds.label, data, backgroundColor: ds.backgroundColor, tooltipSuffix: '%' };
                });
                return { labels, datasets };
            };
            createChart('roleDistributionChart', 'bar', generateMonthlyRoleDistribution(), defaultChartOptions({ animation: getAnimationConfig('bar'), scales: { x: { stacked: true, grid: { display: false }, type: 'time', time: { unit: 'month', displayFormats: { month: 'MMM yy' } }, ticks: { font: { size: 10 }, autoSkip: true, maxTicksLimit: 12 } }, y: { stacked: true, ticks: { callback: v => v + '%' } } } }));
            
            createChart('talentHotspotChart', 'bar', { labels: dashboardData.talentHotspots.labels, datasets: [{ label: '채용 공고 수', data: dashboardData.talentHotspots.data, backgroundColor: '#10b981', borderRadius: 4 }] }, defaultChartOptions({ animation: getAnimationConfig('bar'), scales: { x: { type: 'category' }, y: { grid: { display: true } } }, plugins: { legend: { display: false } } }));
            
            // regionalSpecializationChart now has more regions
            createChart('regionalSpecializationChart', 'bar', dashboardData.regionalSpecialization, defaultChartOptions({ animation: getAnimationConfig('bar'), scales: { x: { grid: { display: false }, type: 'category' }, y: { ticks: { callback: (v) => v + '%' } } } }));
            
            createChart('genreShareChart', 'doughnut', { labels: dashboardData.genreTrends.share.labels, datasets: [{ data: dashboardData.genreTrends.share.data, backgroundColor: ['#3b82f6', '#10b981', '#f97316', '#ef4444', '#8b5cf6', '#64748b'] }] }, defaultChartOptions({ ...getAnimationConfig('doughnut'), scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { position: 'bottom' } } }));
            createChart('genreGrowthChart', 'bar', { labels: dashboardData.genreTrends.growth.labels, datasets: [{ label: '채용 공고 증가율 (%)', data: dashboardData.genreTrends.growth.data, backgroundColor: '#f97316', borderRadius: 4, tooltipSuffix: '%' }] }, defaultChartOptions({ animation: getAnimationConfig('bar', 'y'), indexAxis: 'y', scales: { x: { ticks: { callback: v => v + '%' } }, y: { grid: { display: false }, type: 'category' } }, plugins: { legend: { display: false } } }));
        };
        // --- 탭 전환 설정 ---
        const setupTabs = () => {
            const tabs = document.getElementById('tabs');
            const panes = document.querySelectorAll('.tab-pane');
            tabs.addEventListener('click', (e) => {
                const button = e.target.closest('.tab-button');
                if (!button) return;
                document.querySelectorAll('.tab-button').forEach((btn) => btn.classList.remove('active'));
                button.classList.add('active');
                panes.forEach((pane) => {
                    pane.classList.add('hidden');
                    if (pane.id === button.dataset.tab) {
                        pane.classList.remove('hidden');
                    }
                });
                playTabAnimations(button.dataset.tab);
            });
        };
        // --- 대시보드 초기 실행 ---
        createKpiCards();
        setupTabs();
        initializeCharts();
        setupRegionFilters();
        updateHiringTrendChart();
        setupCompetitorSelection();
        renderCompetitorComparison();
        setupNewProjectTab();
        playTabAnimations('global-pulse');
    });
    </script>
</body>
</html>
